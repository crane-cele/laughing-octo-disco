FOBJ=$(DEST)/const.o $(DEST)/hubbard_core.o $(DEST)/hubbard.o $(DEST)/kpoints.o $(DEST)/mrgref.o $(DEST)/parallel.o $(DEST)/system.o $(DEST)/environment_report.o $(DEST)/error_handling.o $(DEST)/input.o $(DEST)/parse_input.o 

hubbard.x: $(FOBJ)
	$(MAKE) $(DEST)/environment_report.o FORCE=frc_rebuild 
	$(FC) -o $@ $(FFLAGS) $(LDFLAGS) -I $(DEST) $(FOBJ) $(LIBS)

$(DEST)/const.o : const.f90 $(FORCE) 
$(DEST)/hubbard_core.o : hubbard_core.f90 $(DEST)/environment_report.o $(FORCE) 
$(DEST)/hubbard.o : hubbard.f90 $(DEST)/system.o $(DEST)/kpoints.o $(FORCE) 
$(DEST)/kpoints.o : kpoints.f90 $(DEST)/system.o $(DEST)/const.o $(FORCE) 
$(DEST)/mrgref.o : mrgref.f90 $(FORCE) 
$(DEST)/parallel.o : parallel.f90 $(FORCE) 
$(DEST)/system.o : system.f90 $(FORCE) 
$(DEST)/environment_report.o : environment_report.F90 $(FORCE) 
$(DEST)/error_handling.o : error_handling.F90 $(FORCE) 
$(DEST)/input.o : input.F90 $(FORCE) 
$(DEST)/parse_input.o : parse_input.F90 $(DEST)/input.o $(DEST)/error_handling.o $(DEST)/parallel.o $(FORCE) 
