# tests are already neatly arranged into categories by the directory structure...

# deterministic methods
[fci/*/]
[lanczos/*/]
#Lanczos jobs are fragile and don't like too many processors for small test jobs
max_nprocs = 2
[lanczos/*sparse/]
max_nprocs = 1
[lanczos/*direct/]
max_nprocs = 1
[fci/*fci_rdm/]
max_nprocs = 1

# Toy FCIQMC algorithm
[simple_fciqmc/*/]
max_nprocs = 1

# Hilbert space estimation
[mc_hilbert_space/np?/*/]

# Canonical energy estimation.
[mc_canonical_kinetic_energy/np?/*/]

# QMC: integer weights
[*mc/np?/*/]

# QMC: real weights
# _32 indicates POP_SIZE=32 preprocessor flag was used.
# _64 indicates POP_SIZE=64 preprocessor flag was used.
[*mc_real_32/np?/*/]
[*mc_real_64/np?/*/]

## Processor options.
# force MC jobs to run on the same number of cores as the benchmarks in order to have the same Markov chains...
[*/np1/*/]
max_nprocs = 1
[*/np2/*/]
nprocs = 2
min_nprocs = 2
max_nprocs = 2
[*/np4/*/]
nprocs = 4
min_nprocs = 4
max_nprocs = 4

# Form job categories.
[categories]

# By default, run serial MC tests (with POP_SIZE=32) + deterministic tests.
_default_ = fci lanczos mc_hilbert_space/np1 mc_canonical_kinetic_energy/np1 simple_fciqmc *mc/np1 *mc_real_32/np1

mpi = _default_ mc_hilbert_space/ mc_canonical_kinetic_energy *mc *mc_real_32

pop64 = fci lanczos mc_hilbert_space/np1 mc_canonical_kinetic_energy/np1 simple_fciqmc *mc/np1 *mc_real_64/np1

pop64_mpi = pop64 mc_hilbert_space/ mc_canonical_kinetic_energy *mc/ *mc_real_64
