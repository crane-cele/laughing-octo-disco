# tests are already neatly arranged into categories by the directory structure...

# deterministic methods
[fci/*/]
[lanczos/*/]
#Lanczos jobs are fragile and don't like too many processors for small test jobs
max_nprocs = 2
[lanczos/*sparse/]
max_nprocs = 1
[lanczos/*direct/]
max_nprocs = 1
[fci/*fci_rdm/]
max_nprocs = 1

# Toy FCIQMC algorithm
[simple_fciqmc/*/]
max_nprocs = 1

# Hilbert space estimation
[mc_hilbert_space/np?/*/]

# Canonical energy estimation.
[mc_canonical_energy/np?/*/]

# QMC: integer weights
[*mc/np?/*/]

# QMC: real weights
# _32 indicates POP_SIZE=32 preprocessor flag was used.
# _64 indicates POP_SIZE=64 preprocessor flag was used.
[*mc_real_32/np?/*/]
[*mc_real_64/np?/*/]

## Processor options.
# force MC jobs to run on the same number of cores as the benchmarks in order to have the same Markov chains...
[*/np1/*/]
max_nprocs = 1
[*/np2/*/]
nprocs = 2
min_nprocs = 2
max_nprocs = 2
[*/np4/*/]
nprocs = 4
min_nprocs = 4
max_nprocs = 4

# Form job categories.
[categories]

# By default, run serial MC tests (with POP_SIZE=32) + deterministic tests.
_default_ = fci lanczos mc_hilbert_space/np1 mc_canonical_energy/np1 simple_fciqmc *mc/np1 *mc_real_32/np1

mpi = _default_ mc_hilbert_space/ mc_canonical_energy *mc *mc_real_32

pop64 = fci lanczos mc_hilbert_space/np1 mc_canonical_energy/np1 simple_fciqmc *mc/np1 *mc_real_64/np1

pop64_mpi = pop64 mc_hilbert_space/ mc_canonical_energy *mc/ *mc_real_64

# A curated list of short tests (at least each directory contains one test that takes
# under 10s to run.  The goal is to provide test categories for POP_SIZE=32 and
# POP_SIZE=64 configurations which take under 5 minutes to run on 4 cores of a decent
# workstation.
_quick_ = fci/heisenberg_1d_fci_rdm/
          fci/heisenberg_1d_finite_cluster_fci/
          fci/hubbard_k_1d/
          fci/hubbard_k_nontilted_2d_fci/
          fciqmc/np4/Ne-RHF-cc-pVDZ_softexit/
          fci/ringium/
          fci/H2O-RHF-sto-2g/
          fci/heisenberg_1d_fci/
          fciqmc/np1/Ne-RHF-cc-pVDZ_softexit/
          lanczos/hubbard_real_nontilted_2d_direct/
          fci/hubbard_k_tilted_2d_fci/
          mc_hilbert_space/np1/hubbard_k_tilted_2d_mchilbert/
          fci/H2-RHF-cc-pVTZ-Lz/
          fciqmc/np1/hubbard_real_1d_fciqmc/
          ifciqmc/np1/hubbard_k_1d_ifciqmc/
          ifciqmc/np1/hubbard_k_1d_ifciqmc_cas/
          fci/ueg_n4_rs2_e1_fci/
          lanczos/hubbard_k_nontilted_2d_lanczos/
          ifciqmc/np1/hubbard_k_1d_ifciqmc/
          ifciqmc/np4/H2O-RHF-cc-pVTZ-non-block/
          ifciqmc/np1/hubbard_k_nontilted_2d_ifciqmc/
          lanczos/hubbard_k_tilted_2d_sparse/
          fciqmc/np1/hubbard_k_nontilted_2d_fciqmc/
          fciqmc/np1/hubbard_k_1d_n4/
          mc_hilbert_space/np1/hf_hilbert_space/
          fciqmc/np1/hubbard_real_1d_fciqmc/
          fciqmc/np1/heisenberg_1d_neel_ref_fciqmc/
          simple_fciqmc/hubbard_k_nontilted_2d_sfciqmc/
          dmqmc/np4/ueg_n7_rs1_e1_dmqmc/
          lanczos/hubbard_real_rectangle_2d_lanczos/
          fci/chung_landau_1d_fci/
          fciqmc/np4/Ne-RHF-cc-pVDZ_calc_interact/
          ccmc/np2/H2O-cc-pVDZ_tau_search/
          mc_canonical_energy/np1/H2O_ccpvdz_RHF/
          mc_canonical_energy/np2/H2O_ccpvdz_RHF/
          dmqmc/np1/ueg_n7_rs1_e1_dmqmc/
          mc_canonical_energy/np4/H2O_ccpvdz_RHF/
          fciqmc/np1/heisenberg_1d_ferro_field_fciqmc/
          mc_hilbert_space/np1/ueg_n7_rs1_e3_hilbert_space/
          dmqmc/np1/heisenberg_1d/
          dmqmc/np2/n2_sto3g/
          fciqmc/np2/ueg_n10_rs2_e4_tau_search/
          mc_hilbert_space/np1/ueg_n14_rs1_e3_hilbert_space/
          fciqmc/np1/heisenberg_1d_no_renorm/
          fciqmc/np1/H2-RHF-cc-pVTZ-Lz/
          ccmc/np2/Ne-RHF-cc-pVDZ_ccmc_linked/
          ifciqmc/np4/hubbard_k_1d_ifciqmc_load/
          ccmc/np1/Ne-RHF-cc-pVDZ-Lz-CAS8_12-CCSDT/
          dmqmc/np2/hubbard_k_1d/
          fciqmc/np1/heisenberg_2d_field_fciqmc/
          ccmc/np2/ringium_ccsd_restart/
          ccmc/np1/Ne-RHF-cc-pVDZ_ccmc_linked/
          fci/Ne-RHF-cc-pVDZ/
          ccmc/np2/Ne-aug-cc-pVDZ-ccsdtq_nc/

quick   = _quick_
          ifciqmc_real_32/np1/hubbard_k_1d_ifciqmc_real_32/
          ifciqmc_real_32/np1/hubbard_k_1d_ifciqmc_real_32_SS/
          ifciqmc_real_32/np4/H2O-RHF-cc-pVTZ-non-block/
          fciqmc_real_32/np1/He2-aug-cc-pVDZ_real_32_SS/
          fciqmc_real_32/np1/He2-aug-cc-pVDZ_real_32_SS_Extra_MPI/
          dmqmc_real_32/np2/heisenberg_4_gs_entropy/
          fciqmc_real_32/np4/heisenberg_4x4_real_32_SS/
          dmqmc_real_32/np4/ueg_n4_rs2_e4/

quick64 = _quick_
          fciqmc_real_64/np4/He2-aug-cc-pVDZ_real_64_SS/
          dmqmc_real_64/np4/heisenberg_4x4_replica/
          fciqmc_real_64/np1/heisenberg_1d_neel_ref_fciqmc_real_64/
          dmqmc_real_64/np4/n2_sto3g/
          dmqmc_real_64/np4/ueg_n4_rs2_e4/

_vquick_ = fci/heisenberg_1d_fci_rdm
           fci/heisenberg_1d_finite_cluster_fci
           fci/hubbard_k_1d
           fci/hubbard_k_nontilted_2d_fci
           fci/ringium
           fci/H2O-RHF-sto-2g
           fci/heisenberg_1d_fci
           fciqmc/np1/Ne-RHF-cc-pVDZ_softexit
           lanczos/hubbard_real_nontilted_2d_direct
           fci/hubbard_k_tilted_2d_fci
           mc_hilbert_space/np1/hubbard_k_tilted_2d_mchilbert
           fci/H2-RHF-cc-pVTZ-Lz/
           fciqmc/np1/hubbard_real_1d_fciqmc
           ifciqmc/np1/hubbard_k_1d_ifciqmc
           ifciqmc/np1/hubbard_k_1d_ifciqmc_cas
           fci/ueg_n4_rs2_e1_fci
           lanczos/hubbard_k_nontilted_2d_lanczos
           ifciqmc/np1/hubbard_k_1d_ifciqmc
           ifciqmc/np1/hubbard_k_nontilted_2d_ifciqmc
           lanczos/hubbard_k_tilted_2d_sparse
           fciqmc/np1/hubbard_k_nontilted_2d_fciqmc
           fciqmc/np1/hubbard_k_1d_n4
           mc_hilbert_space/np1/hf_hilbert_space
           mc_hilbert_space/np1/hf_hilbert_space
           fciqmc/np1/hubbard_real_1d_fciqmc
           fciqmc/np1/heisenberg_1d_neel_ref_fciqmc
           simple_fciqmc/hubbard_k_nontilted_2d_sfciqmc
           lanczos/hubbard_real_rectangle_2d_lanczos
           fci/chung_landau_1d_fci
           ccmc/np2/H2O-cc-pVDZ_tau_search
           mc_canonical_energy/np1/H2O_ccpvdz_RHF
           mc_canonical_energy/np2/H2O_ccpvdz_RHF
           fciqmc/np1/heisenberg_1d_ferro_field_fciqmc
           mc_hilbert_space/np1/ueg_n7_rs1_e3_hilbert_space
           dmqmc/np1/heisenberg_1d
           fciqmc/np2/ueg_n10_rs2_e4_tau_search

vquick   = _vquick_
           ifciqmc_real_32/np1/hubbard_k_1d_ifciqmc_real_32
           ifciqmc_real_32/np1/hubbard_k_1d_ifciqmc_real_32_SS
           fciqmc_real_32/np1/He2-aug-cc-pVDZ_real_32_SS
           fciqmc_real_32/np1/He2-aug-cc-pVDZ_real_32_SS_Extra_MPI
           dmqmc_real_32/np2/heisenberg_4_gs_entropy

vquick64 = _vquick_
           fciqmc_real_64/np1/heisenberg_1d_neel_ref_fciqmc_real_64
